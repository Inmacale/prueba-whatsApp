<ion-list lines="none">
  @for (chat of chats; track $index) {
  <ion-item [routerLink]="['/chat-contact/'+chat.id]" detail="false">
    <ion-avatar slot="start">
      <img alt="Silhouette of a person's head" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
    </ion-avatar>
    @if (getUnreadMessages(chat.unreadMessages) !== 0) {
    <ion-badge class="unread_message" slot="end">
      {{getUnreadMessages(chat.unreadMessages)}}</ion-badge>

    }

    <ion-note slot="end" class="time">{{getLastMessage(chat.messages)?.date| date: 'HH:mm'}}</ion-note>
    <ion-label class="ion-text-wrap">
      <p class="name"> {{chat.contact.name}}</p>
      <p class="msg">{{getLastMessage(chat.messages)?.content}}</p>
    </ion-label>
  </ion-item>
  }
</ion-list>


<ion-infinite-scroll>
  <ion-infinite-scroll-content></ion-infinite-scroll-content>
</ion-infinite-scroll>